<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

    <changeSet id="Gaza_CONFIG_20211028133417332" author="Tarun, Venky">
        <comment>Adding Concepts for First Consultation Form</comment>
        <sqlFile path="FirstConsultation/FirstConsultation.sql"/>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133418527" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Government-run health clinic/facility", "UNRWA", "NGO", "Private health care clinic/facility", "Other health facility", "self-referred")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Source of initial patient referral");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Source of initial patient referral</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Source of initial patient referral" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Government-run health clinic/facility" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="UNRWA" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="NGO" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Private health care clinic/facility" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="Other health facility" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="self-referred" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133420316" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Beit Hanoun", "Indonesian", "Shiffa", "Al Aqsa", "Naser", "European", "Najjar", "MOH Clinic", "Others")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, MoH facility");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, MoH facility</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, MoH facility" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            set @child7_concept_id = 0;
            set @child8_concept_id = 0;
            set @child9_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Beit Hanoun" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Indonesian" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Shiffa" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Al Aqsa" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="Naser" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="European" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child7_concept_id from concept_name where name ="Najjar" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child8_concept_id from concept_name where name ="MOH Clinic" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child9_concept_id from concept_name where name ="Others" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
            call add_concept_answer(@concept_id, @child7_concept_id, 7);
            call add_concept_answer(@concept_id, @child8_concept_id, 8);
            call add_concept_answer(@concept_id, @child9_concept_id, 9);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133424742" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Beit Hanoun", "Jabalia", "Fakhora", "Saftawi", "Gaza Medina", "Shatea", "Remal", "Sabra", "Sheikh Radwan", "Nuseirat West", "Nuseirat", "Bureij", "Maghazi", "Deir al Balah", "Khan Younis", "Ma'an", "Tal as Sultan", "Shabbourah", "Shokah", "Japanees", "Rafah", "Um Nasser")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, UNRWA facility");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, UNRWA facility</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, UNRWA facility" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            set @child7_concept_id = 0;
            set @child8_concept_id = 0;
            set @child9_concept_id = 0;
            set @child10_concept_id = 0;
            set @child11_concept_id = 0;
            set @child12_concept_id = 0;
            set @child13_concept_id = 0;
            set @child14_concept_id = 0;
            set @child15_concept_id = 0;
            set @child16_concept_id = 0;
            set @child17_concept_id = 0;
            set @child18_concept_id = 0;
            set @child19_concept_id = 0;
            set @child20_concept_id = 0;
            set @child21_concept_id = 0;
            set @child22_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Beit Hanoun" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Jabalia" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Fakhora" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Saftawi" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="Gaza Medina" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="Shatea" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child7_concept_id from concept_name where name ="Remal" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child8_concept_id from concept_name where name ="Sabra" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child9_concept_id from concept_name where name ="Sheikh Radwan" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child10_concept_id from concept_name where name ="Nuseirat West" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child11_concept_id from concept_name where name ="Nuseirat" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child12_concept_id from concept_name where name ="Bureij" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child13_concept_id from concept_name where name ="Maghazi" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child14_concept_id from concept_name where name ="Deir al Balah" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child15_concept_id from concept_name where name ="Khan Younis" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child16_concept_id from concept_name where name ="Ma'an" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child17_concept_id from concept_name where name ="Tal as Sultan" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child18_concept_id from concept_name where name ="Shabbourah" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child19_concept_id from concept_name where name ="Shokah" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child20_concept_id from concept_name where name ="Japanees" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child21_concept_id from concept_name where name ="Rafah" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child22_concept_id from concept_name where name ="Um Nasser" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
            call add_concept_answer(@concept_id, @child7_concept_id, 7);
            call add_concept_answer(@concept_id, @child8_concept_id, 8);
            call add_concept_answer(@concept_id, @child9_concept_id, 9);
            call add_concept_answer(@concept_id, @child10_concept_id, 10);
            call add_concept_answer(@concept_id, @child11_concept_id, 11);
            call add_concept_answer(@concept_id, @child12_concept_id, 12);
            call add_concept_answer(@concept_id, @child13_concept_id, 13);
            call add_concept_answer(@concept_id, @child14_concept_id, 14);
            call add_concept_answer(@concept_id, @child15_concept_id, 15);
            call add_concept_answer(@concept_id, @child16_concept_id, 16);
            call add_concept_answer(@concept_id, @child17_concept_id, 17);
            call add_concept_answer(@concept_id, @child18_concept_id, 18);
            call add_concept_answer(@concept_id, @child19_concept_id, 19);
            call add_concept_answer(@concept_id, @child20_concept_id, 20);
            call add_concept_answer(@concept_id, @child21_concept_id, 21);
            call add_concept_answer(@concept_id, @child22_concept_id, 22);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133425781" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Ahli Arabi", "MAP-UK", "MSFOCB", "Quds Hospital", "ALPC", "Others")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, NGO facility");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, NGO facility</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, NGO facility" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Ahli Arabi" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="MAP-UK" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="MSFOCB" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Quds Hospital" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="ALPC" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="Others" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133426182" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Clinic", "Hospital")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Private facility type");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Private facility type</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Private facility type" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Clinic" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Hospital" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133426788" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Traumatic injury", "Burn", "Other")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Type of injury");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Type of injury</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Type of injury" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Traumatic injury" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Burn" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Other" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133427335" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Admission", "Readmission", "Rejection")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Admission status");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Admission status</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Admission status" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Admission" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Readmission" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="Rejection" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133428067" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Out of criteria", "Patient refuses the plan", "No documentation", "Followed by another actor")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Reason of rejection");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Reason of rejection</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Reason of rejection" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Out of criteria" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Patient refuses the plan" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="No documentation" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="Followed by another actor" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133428468" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Simple wound", "Other")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Out of criteria");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Out of criteria</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Out of criteria" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Simple wound" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="Other" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133428815" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("Yes", "No")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Patient sent to another actor?");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Patient sent to another actor?</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Patient sent to another actor?" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="Yes" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="No" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211028133429967" author="Tarun, Venky">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_answer ca
                join
                concept_name cn
                on ca.concept_id = cn.concept_id
                where ca.answer_concept IN (select concept_id from concept_name where name IN
                ("MOH", "UNRWA", "NGO", "MSFOCB", "WHO", "Others")
                and concept_name_type = "FULLY_SPECIFIED")
                AND
                cn.concept_id IN (select concept_id from concept_name where name = "FC, Referral location:");
            </sqlCheck>
        </preConditions>
        <comment>Adding Answers to FC, Referral location:</comment>
        <sql>
            select concept_id into @concept_id from concept_name where name = "FC, Referral location:" and
            concept_name_type = "FULLY_SPECIFIED" and locale = "en" and voided = 0;
            set @child1_concept_id = 0;
            set @child2_concept_id = 0;
            set @child3_concept_id = 0;
            set @child4_concept_id = 0;
            set @child5_concept_id = 0;
            set @child6_concept_id = 0;
            select concept_id into @child1_concept_id from concept_name where name ="MOH" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child2_concept_id from concept_name where name ="UNRWA" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child3_concept_id from concept_name where name ="NGO" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child4_concept_id from concept_name where name ="MSFOCB" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child5_concept_id from concept_name where name ="WHO" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            select concept_id into @child6_concept_id from concept_name where name ="Others" and concept_name_type ="FULLY_SPECIFIED" and locale ="en" and voided = 0;
            call add_concept_answer(@concept_id, @child1_concept_id, 1);
            call add_concept_answer(@concept_id, @child2_concept_id, 2);
            call add_concept_answer(@concept_id, @child3_concept_id, 3);
            call add_concept_answer(@concept_id, @child4_concept_id, 4);
            call add_concept_answer(@concept_id, @child5_concept_id, 5);
            call add_concept_answer(@concept_id, @child6_concept_id, 6);
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211102132041472" author="Venky, Tarun">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_reference_term
                where code in
                ("165650","164408","116543","162477","5622","162869","1549","160479","1589","16440","124193","161011","160480")
                and retired = 0
                and concept_source_id = (
                select concept_source_id from concept_reference_source where name = "CEIL"  and retired =0
                );
            </sqlCheck>
        </preConditions>
        <comment>Adding CEIL codes to concepts</comment>
        <sql>
            SELECT concept_source_id INTO @source_id FROM concept_reference_source where name = "CEIL";

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"165650",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"164408",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"116543",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"162477",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"5622",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"162869",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"1549",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"160479",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"1589",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"16440",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"124193",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"161011",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"160480",@source_id,uuid(),now());
            call CREATE_REFERENCE_MAPPING_CEIL("IMA, Free text comment","161011");
            call CREATE_REFERENCE_MAPPING_CEIL("Burn","116543");
            call CREATE_REFERENCE_MAPPING_CEIL("IMA, Admission status","162477");
            call CREATE_REFERENCE_MAPPING_CEIL("Government-run health clinic/facility","160480");
            call CREATE_REFERENCE_MAPPING_CEIL("Private health care clinic/facility","160479");
            call CREATE_REFERENCE_MAPPING_CEIL("Others","5622");
            call CREATE_REFERENCE_MAPPING_CEIL("Other","5622");
            call CREATE_REFERENCE_MAPPING_CEIL("Hospital","1589");
            call CREATE_REFERENCE_MAPPING_CEIL("Other health facility","16440");
            call CREATE_REFERENCE_MAPPING_CEIL("self-referred","165650");
            call CREATE_REFERENCE_MAPPING_CEIL("IMA, Type of injury","1549");
            call CREATE_REFERENCE_MAPPING_CEIL("IMA, Date","162869");
            call CREATE_REFERENCE_MAPPING_CEIL("Traumatic injury","124193");
            call CREATE_REFERENCE_MAPPING_CEIL("IMA, Source of initial patient referral","164408");
        </sql>
    </changeSet>

    <changeSet id="Gaza_CONFIG_20211102132041485" author="Venky, Tarun">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                select count(*) from concept_reference_term
                where code in
                ("MSFF289","GZ93","MSFF288","MSFF232","MSFF252","MSFF236","MSFF92","MSFF239","MSFF211","MSF72","MSF73","MSFF214","MSFF292","MSFF293","MSFF290","MSFF291","MSFF296","MSFF297","MSFF294","MSFF295","MSFF298","MSFF277","MSFF272","MSFFF285","MSFF28","MSFF86","MSFF87","MSFF234","MSFF85","MSFF82","MSFF83","MSFF80","MSFF81","MSFF204","MSFF201","MSFF202","MSFF248","MSFF286","MSFF283","MSFF282","MSFF241","MSFFF284","MSFF91","MSFF245","MSFF262","MSFF246","MSFF267","MSFF79","MSFF78","MSFF73","MSFF72","MSFF71","MSFF70","MSFF77","MSFF76","MSFF75","MSFF74")
                and retired = 0
                and concept_source_id = (
                select concept_source_id from concept_reference_source where name = "MSFOCP"  and retired =0
                );
            </sqlCheck>
        </preConditions>
        <comment>Adding MSFOCP codes to concepts</comment>
        <sql>
            SELECT concept_source_id INTO @source_id FROM concept_reference_source where name = "MSFOCP";

            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF289",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"GZ93",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF288",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF232",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF252",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF236",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF92",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF239",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF211",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSF72",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSF73",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF214",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF292",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF293",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF290",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF291",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF296",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF297",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF294",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF295",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF298",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF277",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF272",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFFF285",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF28",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF86",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF87",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF234",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF85",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF82",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF83",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF80",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF81",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF204",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF201",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF202",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF248",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF286",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF283",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF282",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF241",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFFF284",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF91",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF245",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF262",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF246",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF267",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF79",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF78",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF73",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF72",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF71",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF70",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF77",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF76",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF75",@source_id,uuid(),now());
            INSERT INTO concept_reference_term (creator,code,concept_source_id,uuid,date_created) VALUES (1,"MSFF74",@source_id,uuid(),now());
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, Other referral location, specify","MSFF92");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Indonesian","MSFF283");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, NGO facility","MSFF71");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Shokah","MSFF272");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Jabalia","MSFF288");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, Patient sent to another actor?","MSFF85");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Followed by another actor","MSFF83");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, MoH facility","MSFF28");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Patient refuses the plan","MSFF81");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Najjar","MSFF282");
            call CREATE_REFERENCE_MAPPING_MSFOCP("MAP-UK","MSFF295");
            call CREATE_REFERENCE_MAPPING_MSFOCP("NGO","MSFF73");
            call CREATE_REFERENCE_MAPPING_MSFOCP("UNRWA","MSFF72");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Saftawi","MSFF204");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, Private facility type","GZ93");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Readmission","MSFF77");
            call CREATE_REFERENCE_MAPPING_MSFOCP("MSFOCB","MSFF87");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Tal as Sultan","MSFF267");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Fakhora","MSFF211");
            call CREATE_REFERENCE_MAPPING_MSFOCP("MOH Clinic","MSFF286");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Khan Younis","MSFF201");
            call CREATE_REFERENCE_MAPPING_MSFOCP("MOH","MSFF85");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Um Nasser","MSFF293");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Nuseirat West","MSFF291");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Naser","MSFF239");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, Out of criteria","MSFF80");
            call CREATE_REFERENCE_MAPPING_MSFOCP("ALPC","MSFF298");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Rejection","MSFF78");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Remal","MSFF290");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Maghazi","MSFF245");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Quds Hospital","MSFF297");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Shabbourah","MSFF277");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Ahli Arabi","MSFF294");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Nuseirat","MSFF246");
            call CREATE_REFERENCE_MAPPING_MSFOCP("WHO","MSFF86");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, Other injury, specify","MSFF75");
            call CREATE_REFERENCE_MAPPING_MSFOCP("UNRWA","MSF72");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Clinic","MSFF74");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Ma'an","MSFF262");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Bureij","MSFF241");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Rafah","MSFF202");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Japanees","MSFF292");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, Reason of rejection","MSFF79");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Admission","MSFF76");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Out of criteria","MSFF80");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Simple wound","MSFF298");
            call CREATE_REFERENCE_MAPPING_MSFOCP("NGO","MSF73");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Shiffa","MSFFF284");
            call CREATE_REFERENCE_MAPPING_MSFOCP("No documentation","MSFF82");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, UNRWA facility","MSFF70");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Beit Hanoun","MSFF214");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Deir al Balah","MSFF248");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Sabra","MSFF236");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Gaza Medina","MSFF289");
            call CREATE_REFERENCE_MAPPING_MSFOCP("MSFOCB","MSFF296");
            call CREATE_REFERENCE_MAPPING_MSFOCP("European","MSFF252");
            call CREATE_REFERENCE_MAPPING_MSFOCP("IMA, Referral location:","MSFF91");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Sheikh Radwan","MSFF234");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Shatea","MSFF232");
            call CREATE_REFERENCE_MAPPING_MSFOCP("Al Aqsa","MSFFF285");
        </sql>
    </changeSet>

</databaseChangeLog>
